<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jurnalul Sufletului</title>

    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>

<body>

    <div class="container">
        <h1>Jurnalul Sufletului</h1>
        <p class="subtitle">Respiră adânc. Ești în siguranță. Scrie pentru tine.</p>

        <div class="date-box" id="today"></div>

        <textarea id="textInput" placeholder="Scrie aici gândurile tale..."></textarea>

        <button id="saveBtn">Salvează în jurnal</button>

        <div class="center">
            <a href="istoric.html" class="history-btn">Vezi istoricul →</a>
        </div>
    </div>

<script>
    // Data curentă
    document.getElementById("today").textContent =
        new Date().toLocaleDateString("ro-RO", {
            day: "numeric",
            month: "long",
            year: "numeric"
        });

    // Salvare în localStorage
    document.getElementById("saveBtn").addEventListener("click", () => {
        let text = document.getElementById("textInput").value.trim();
        if (text === "") {
            alert("Scrie ceva înainte de a salva.");
            return;
        }

        let entries = JSON.parse(localStorage.getItem("jurnalEntries")) || [];

        entries.push({
            text: text,
            date: new Date().toISOString()
        });

        localStorage.setItem("jurnalEntries", JSON.stringify(entries));

        document.getElementById("textInput").value = "";
        alert("Salvat!");
    });

    // PWA
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("service-worker.js");
    }
</script>

</body>
</html>
